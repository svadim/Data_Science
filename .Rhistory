pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- lapply(files_list, read.csv)
data
}
pollutantmean(path, "nitrat", 1)
data <- pollutantmean(path, "nitrat", 1:2)
fix(data)
data
fix(data)
head(data)
str(data)
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- sapply(files_list, read.csv)
}
data <- pollutantmean(path, "nitrate", 1:2)
View(data)
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- sapply(files_list, read.csv)
sapply(data, mean)
}
data <- pollutantmean(path, "nitrate", 1:2)
fix(data)
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- lapply(files_list, read.csv)
lapply(data, mean)
}
data <- pollutantmean(path, "nitrate", 1:2)
fix(data)
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- lapply(files_list, read.csv)
}
data <- pollutantmean(path, "nitrate", 1:2)
fix(data)
data[1,1]
data
data <- pollutantmean(path, "nitrate", 1)
str(data)
data$ID
str(data)
data[1]
data_all <- lapply(data, rbind)
fix(data_all)
data <- pollutantmean(path, "nitrate", 2)
fix(data)
fix(data)
data <- pollutantmean(path, "nitrate", 1:2)
data_all <- lapply(data, rbind)
fix(data_all)
data_all <- lapply(data[, 1], mean)
data_all <- lapply(data[1], mean)
data_all <- lapply(data[2], mean)
data_all <- lapply(data[2, 2], mean)
data[1,1]
data[1][1, 1]
data[1]
data[[1], [1, 1]]
x <- list(a = 1:5, b = 70:75)
x
lapply(x, length)
x <- list(a = 1:5, b = 70:74)
lapply(x, length)
x <- list(a = matrix(1:4, 2, 2), b = matrix(71:74, 2, 2))
x
lapply(x, length)
lapply(x, mean)
x <- list(a = data.frame(1:4, 2, 2), b = data.frame(71:74, 2, 2))
x
x <- list(data.frame(1:4, 2, 2), data.frame(71:74, 2, 2))
x
x[[1]][1, 1]
x[1][1, 1]
files_list <- list.files(directory, full.names = TRUE)[id]
directory <- "R Programming/week 2/specdata"
id <- 1:2
pollutant <- "nitrate"
files_list <- list.files(directory, full.names = TRUE)[id]
fix(files_list)
fix(files_list)
data <- lapply(files_list, read.csv)
str(data)
data[[1]][1, 1]
data[[1]][1, pollutant]
data[[1]][100, pollutant]
data[[1]][, pollutant]
data [[,]] [, pollutant]
data [[]] [, pollutant]
data[, pollutant]
tmp <- vector(mode = "list", length = length(files_list))
for(i in seq_along(files_list)) {
tmp[[i]] <- read.csv(files_list[[i]])
str(tmp)
a <- data.frame(1:4, 2, 2)
b <- data.frame(71:74, 2, 2)
rbind(a, b)
cbind(a, b)
a <- data.frame(a = 1:4, 2, 2)
View(a)
View(a)
a <- data.frame(a = 1:4)
View(a)
a <- data.frame(a = 1:4, b = 2:5)
View(a)
?data.frame
a <- data.frame(a = 1:4, b = 2:5)
b <- data.frame(a = 70:73, b = 45:49)
b <- data.frame(a = 70:73, b = 45:48)
rbind(a, b)
data <- sapply(data, rbind)
View(data)
data <- lapply(files_list, read.csv)
data <- lapply(data, rbind)
x <- list(a, b)
x
lapply(x, rbind)
lapply(x, cbind)
lapply(x, rbind, a)
lapply(x, rbind, a, b)
lapply(x, cbind, a, b)
a <- data.frame(1:4, 2:5)
b <- data.frame(70:73, 45:48)
x <- list(a, b)
lapply(x, cbind, a, b)
data <- sapply(files_list, read.csv)
View(data)
l
cbind(data[, 2], data[, 3])
str(data)
class(data)
as.data.frame(data)
data <- as.data.frame(data)
View(data)
class(data)
View(data)
cbind(data[, 2], data[, 3])
cbind(data[, 2], data[, 3])
dataset_url <- "http://s3.amazonaws.com/practice_assignment/diet_data.zip"
download.file(dataset_url, "diet_data.zip")
unzip("diet_data.zip", exdir = "diet_data")
list.files("diet_data")
lapply2 <- function(x, f, ...) {
out <- vector("list", length(x))
for (i in seq_along(x)) {
out[[i]] <- f(x[[i]], ...)
}
out
}
l <- replicate(20, runif(sample(1:10, 1)), simplify=FALSE)
fix(l)
l
lapply2(l, length)
l[1]
l[[1]]
?vector
Unlist(lapply2(l, length))
unlist(lapply2(l, length))
?do.call
directory <- R Programming/week 2/specdata
directory <- "R Programming/week 2/specdata"
files_list <- list.files(directory, full.names = TRUE)[id]
id <- 1:2
files_list <- list.files(directory, full.names = TRUE)[id]
data_ls <- lapply(files_list, read.csv)
data_ls[[1]]
library(swirl)
swirl()
sapply(flags, unique)
0
runif(1)
runif(2)
runif(3)
directory <- "R Programming/week 2/specdata"
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- lapply(files_list, read.csv)
data <- lapply(data, function(data)
data[, pollutant]
mean(data[, pollutant], na.rm = TRUE), pollutant)
}
}
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- lapply(files_list, read.csv)
data <- lapply(data, function(data)
data[, pollutant]
mean(data[, pollutant], na.rm = TRUE), pollutant)
}
data <- lapply(files_list, read.csv)
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- lapply(files_list, read.csv)
#data <- lapply(data, function(data)
#data[, pollutant]
#mean(data[, pollutant], na.rm = TRUE), pollutant)
}
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- lapply(files_list, read.csv)
data <- lapply(data, function(data) data[, pollutant]
mean(data[, pollutant], na.rm = TRUE), pollutant)
}
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- lapply(files_list, read.csv)
data <- lapply(data, length, pollutant)
}
data <- pollutantmean(directory, "nitrate", 1)
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- lapply(files_list, read.csv)
data <- lapply(data, function(data) data[, pollutant])
}
data <- pollutantmean(directory, "nitrate", 1)
fix(data)
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- lapply(files_list, read.csv)
data <- lapply(data, function(data)
mean(data[, pollutant], na.rm = TRUE))
}
data <- pollutantmean(directory, "nitrate", 1)
fix(data)
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- lapply(files_list, read.csv)
data <- sapply(data, function(data)
mean(data[, pollutant], na.rm = TRUE))
}
data <- pollutantmean(directory, "nitrate", 1)
data <- pollutantmean(directory, "nitrate", 1:5)
fix(data)
directory <- "R Programming/week 2/specdata"
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- lapply(files_list, read.csv)
data <- sapply(data, function(data)
mean(data[, pollutant], na.rm = TRUE))
}
data <- pollutantmean(directory, "nitrate", 1:5)
data <- pollutantmean(directory, "nitrate")
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- data.frame()
for(i in seq_along(id)) {
data <- rbind(data, read.csv(files_list[i]))
}
mean(data[, pollutant], na.rm = TRUE)
}
data <- pollutantmean(directory, "nitrate")
data <- pollutantmean(directory, "nitrate")
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- data.frame()
for(i in seq_along(id)) {
data <- rbind(data, read.csv(files_list[i]))
}
mean(data[, pollutant], na.rm = TRUE)
}
data <- pollutantmean(directory, "nitrate")
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- lapply(files_list, read.csv)
data <- sapply(data, function(data)
mean(data[, pollutant], na.rm = TRUE))
sum(data)
}
data <- pollutantmean(directory, "nitrate")
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- lapply(files_list, read.csv)
data <- sapply(data, function(data)
mean(data[, pollutant], na.rm = TRUE))
}
data <- pollutantmean(directory, "nitrate")
fix(data)
?list.files
path <- "R Programming/week 2/specdata"
id <- 1:332
id <- 1:2
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
str(data)
fix(flist)
fix(data)
id <- 1:2
pollutant <- "sulfate"
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
for(i in seq_along(flist)) {
p_data <- data[[i]][, polluant]
}
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
for(i in seq_along(flist)) {
p_data <- data[[i]][, "sulfate"]
}
fix(p_data)
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
p_data <- lapply(data, function(data) data[, "sulfate"])
fix(p_data)
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
p_data <- lapply(data, function(data)
data[, "sulfate"])
p_data <- lapply(data, function(data)
mean(data[, "sulfate"], na.rm=TRUE)
)
fix(p_data)
function(path, pollutant, id){
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
p_data <- lapply(data, function(data)
mean(data[, pollutant], na.rm=TRUE))
p_data
}
pollutantmean <- function(path, pollutant, id){
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
p_data <- lapply(data, function(data)
mean(data[, pollutant], na.rm=TRUE))
p_data
}
path <- "R Programming/week 2/specdata"
id <- 1:2
pollutant <- "sulfate"
pollutantmean <- function(path, pollutant, id){
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
p_data <- lapply(data, function(data)
mean(data[, pollutant], na.rm=TRUE))
p_data
}
pollutantmean(path, pollutant, id)
pollutantmean <- function(path, pollutant, id){
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
p_data <- lapply(data, function(data)
mean(data[, pollutant], na.rm=TRUE))
p_data
}
m1 <- pollutantmean(path, pollutant, id)
pollutantmean <- function(path, pollutant, id){
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
p_data <- sapply(data, function(data)
mean(data[, pollutant], na.rm=TRUE))
p_data
}
m1 <- pollutantmean(path, pollutant, id)
fix(`m1`)
id <- 1:332
m1 <- pollutantmean(path, pollutant, id)
fix(`m1`)
pollutantmean <- function(path, pollutant, id){
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
p_data <- sapply(data, function(data)
mean(data[, pollutant], na.rm=TRUE))
Sum(p_data)
}
m1 <- pollutantmean(path, pollutant, id)
pollutantmean <- function(path, pollutant, id){
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
p_data <- sapply(data, function(data)
mean(data[, pollutant], na.rm=TRUE))
sum(p_data)
}
m1 <- pollutantmean(path, pollutant, id)
path <- "R Programming/week 2/specdata"
id <- 1:332
pollutant <- "sulfate"
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- data.frame()
for(i in seq_along(id)) {
data <- rbind(data, read.csv(files_list[i]))
}
mean(data[, pollutant], na.rm = TRUE)
}
m1 <- pollutantmean(path, pollutant, id)
pollutantmean <- function(path, pollutant, id){
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
p_data <- sapply(data, function(data)
sum(data[, pollutant], na.rm=TRUE))
}
m1 <- pollutantmean(path, pollutant, id)
fix(`m1`)
pollutantmean <- function(path, pollutant, id){
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
p_data <- sapply(data, function(data)
sum(data[, pollutant], na.rm=TRUE))
mean(p_data)
}
m1 <- pollutantmean(path, pollutant, id)
pollutantmean <- function(path, pollutant, id){
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
p_data <- sapply(data, function(data)
sum(data[, pollutant], na.rm=TRUE))
}
m1 <- pollutantmean(path, pollutant, id)
fix(`m1`)
pollutantmean <- function(path, pollutant, id){
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
p_data <- sapply(data, function(data)
mean(data[, pollutant], na.rm=TRUE))
}
m1 <- pollutantmean(path, pollutant, id)
fix(`m1`)
pollutantmean <- function(path, pollutant, id){
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
p_data <- sapply(data, function(data)
mean(data[, pollutant], na.rm=TRUE))
mean(p_data)
}
m1 <- pollutantmean(path, pollutant, id)
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- data.frame()
for(i in seq_along(id)) {
data <- rbind(data, read.csv(files_list[i]))
}
mean(data[, pollutant], na.rm = TRUE)
}
id <- 1:3
pollutantmean <- function(directory, pollutant, id = 1:332) {
files_list <- list.files(directory, full.names = TRUE)[id]
data <- data.frame()
for(i in seq_along(id)) {
data <- rbind(data, read.csv(files_list[i]))
}
mean(data[, pollutant], na.rm = TRUE)
}
m1 <- pollutantmean(path, pollutant, id)
pollutantmean <- function(path, pollutant, id){
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
p_data <- sapply(data, function(data)
mean(data[, pollutant], na.rm=TRUE))
mean(p_data)
}
m1 <- pollutantmean(path, pollutant, id)
pollutantmean <- function(path, pollutant, id){
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
p_data <- sapply(data, function(data)
data[, pollutant])
mean(p_data, na.rm=TRUE)
}
m1 <- pollutantmean(path, pollutant, id)
p_data <- sapply(data, function(data)
data[, pollutant])
pollutantmean <- function(path, pollutant, id){
flist <- list.files(path, full.names=TRUE)[id]
data <- lapply(flist, read.csv)
p_data <- sapply(data, function(data)
data[, pollutant])
p_data
#mean(p_data, na.rm=TRUE)
}
m1 <- pollutantmean(path, pollutant, id)
fix(`m1`)
l1 <- list(rep(1, 4), rep(2, 3), rep(3, 2), rep(4, 1))
str(l1)
l2 <- mapply(rep, 1:4, 4:1)
str(l2)
noise <- function(n, mean, sd) {
rnorm(n, mean, sd)
}
noise(5, 1, 2)
noise(1:5, 1:5, 2)
mapply(noise, 1:5, 1:5, 2)
l2 <- mapply(rep, 1:4, 4:1, 4:1)
str(l2)
l2 <- mapply(rep, 1:4, 4:1)
str(l2)
x <- c(rnorm(10), runif(10), rnorm(10,1))
f <- gl(3, 10)
f
x
tapply(x, f, mean)
tapply(x, f, range)
split(x, f)
lapply(split(x, f), mean)
library(datasets)
head(airquality)
s <- split(airquality, airquality$Month)
lapply(s, function(x) colMeans(x[, "Ozone", "Solar.R", "Wind"]))
lapply(s, function(x) colMeans(x[, c("Ozone", "Solar.R", "Wind")]))
sapply(s, function(x) colMeans(x[, c("Ozone", "Solar.R", "Wind")]))
sapply(s, function(x) colMeans(x[, c("Ozone", "Solar.R", "Wind")], na.rm=TRUE))
x <- rnorm(10)
f2 <- gl(5, 2)
f1 <- gl(2, 5)
f1
f2
interaction(f1, f2)
interaction(f1, f2)
interaction(f1, f2)
str(split(x, list(f1, f2)))
str(split(x, list(f1, f2), drop=TRUE))
x
